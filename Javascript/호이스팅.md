# var변수의 의도치 않은 현상
```javascript
  if(true) {
    var name = 'js';
  }
  console.log(name); // js
```
```javascript
  for(var i = 0; i < 5; i++) {
    ...
  }
  console.log(i); // 5
```
- 자바스크립트에서 var 선언문을 사용해 이런 코드를 작성하면 위와 같은 상황이 발생한다.
- 이러한 동작이 가능한 이유는 호이스팅 때문이다.

# 호이스팅이란
- 선언문을 `유효 범위`의 최상단으로 끌어올리는 행위라고 할 수 있다.
- 선언과 할당의 분리라고 생각하면 된다.
```javascript
  if(true) {
    var name = 'js';
  }
  
  console.log(name);
  f();
  function f() {
    console.log('hi');
  }
```
- 위 코드는 호이스팅이 발생하여 실제로는 아래와 같은 형태로 작성한 코드 같이 해석된다.
```javascript
  var name;
  function f() {
    console.log('hi');
  }
  
  // 실행
  if(true) {
    name = 'js';
  }
  console.log(name);
  f();
```
- 그렇게 때문에 블록 밖에서도 블록안의 변수를 참조할 수 있고, 함수 선언전에 함수 호출이 가능하게 보이는 것이다.

# var의 유효범위
- 호이스팅 시 선언문은 `유효 범위`의 최상단으로 올라간다고 했다.
- 자바스크립트의 var는 단순한 블록이 아닌 함수 블록안에서 유효하다. 이를 함수 스코프에서 유효하다라고 한다.
```javascript
  function ho1() {
    if(true) {
      var name = 'js';
    }
    console.log(name);
  }
  
  function ho2() {
    for(var i = 0; i < 5; i++) {
      ...
    }
    console.log(i);
  }
  
  if(true) {
    var score = 100;
  }
  console.log(score)
```

- 위 코드는 호이스팅에 의해 아래와 같은 모양으로 바뀌게 된다.

```javascript
  var scre; // 선언
  function ho1() {
    var name; // 선언
      
    if(true){
      name = 'js'; // 할당
    }
    console.log(name);
  }
  
  function ho2() {
    var i; // 선언
    
    for(i = 0;i < 5; i++) {
      ...
    }
    console.log(i);
  }
  
  if(true){
    score = 100; // 할당
  }
  console.log(score);
```
- var는 함수 스코프에서 유효하기 때문에 호이스팅 시, 선언문은 글로벌 스코프가 아닌 유효범위 내부의 최상단에 위치하게 된다.
- 글로벌 스코프 또한 하나의 함수 스코프 처럼 동작하기 때문에 호이스팅이 일어난다.

# 함수 호이스팅
- 함수의 선언도 호이스팅의 대상이다. 그래서 스코프 내 어떤 위치에서 함수 선언을 하든지 호출할 수 있다.
```javascript
  sayName();
  
  function sayName() {
    console.log('js');
  }
  // js
```
- 호이스팅으로 변환된 코드
```javascript
  function sayName() {
    console.log('js');
  }
  
  sayName();
```
- 함수 선언 역시 최상단으로 끌어올려지기 때문에 함수를 먼저 호출하고 함수 정의를 해도 코드가 정상적으로 동작한다.

## 함수 표현식
```javascript
  sayName();
  
  var sayName = function() {
    console.log('js);
  } 
  // sayName is not a function
```
- 호이스팅으로 변환된 코드
```javascript
  var sayName;
  
  sayName();
  
  sayName = fucntion() {
    consoele.log('js');
  } 
```
- sayName은 변수이기 때문에 `선언과 할당`이 분리된다.
- sayName이 선언되고 sayName()이 호출되지만 거기에는 아무것도 없다. 
- 호출 이후에 sayName에 함수가 정의 되기 때문에 에러가 발생한다.

# 함수, 변수 우선순위
